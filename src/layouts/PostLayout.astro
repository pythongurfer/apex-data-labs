---
// src/layouts/PostLayout.astro

import Layout from '~/layouts/Layout.astro';
import { getFormattedDate } from '~/utils/utils';

const { frontmatter } = Astro.props;

const metadata = {
  title: frontmatter.title,
  description: frontmatter.excerpt,
};
---
<script type="application/ld+json" is:inline set:html={`
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "headline": "${frontmatter.title}",
    "description": "${frontmatter.excerpt}",
    "datePublished": "${frontmatter.publishDate}",
    "dateModified": "${frontmatter.updatedDate || frontmatter.publishDate}",
    "image": "${Astro.url.origin}${frontmatter.image}",
    "author": {
      "@type": "Person",
      "name": "Anika Rosenzuaig",
      "url": "${Astro.url.origin}/about"
    },
    "publisher": {
      "@type": "Organization",
      "name": "Apex Data Labs",
      "logo": {
        "@type": "ImageObject",
        "url": "${Astro.url.origin}/favicon.svg" 
      }
    }
  }
`} />
<Layout metadata={metadata}>
  <section class="py-16 sm:py-20">
    <div class="container mx-auto max-w-3xl px-4">
      <header class="text-center mb-8">
        <h1 class="text-4xl md:text-5xl font-bold leading-tighter tracking-tighter mb-4">
          {frontmatter.title}
        </h1>
        <p class="text-lg text-gray-600 dark:text-slate-400">
          <time datetime={frontmatter.publishDate}>{new Date(frontmatter.publishDate).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}</time>
        </p>
      </header>
     
      {frontmatter.image && (
        <img 
          src={frontmatter.image} 
          alt={frontmatter.imageAlt || frontmatter.title} 
          class="w-full h-auto rounded-lg mb-12"
        />
      )}

      <div class="prose prose-lg dark:prose-invert max-w-none mx-auto">
        <slot />
      </div>

      <div class="text-center mt-12">
        <a href="/articles" class="btn">‚Üê Back to all articles</a>
      </div>
    </div>
  </section>
</Layout>