---
// ImageHandler.astro - A component to handle various image path formats
export interface Props {
  src: string;
  alt: string;
  className?: string;
}

const { src, alt, className = "" } = Astro.props;

// Convert various image path formats to usable URLs
let imageUrl = src;

// Handle special cases
if (src.startsWith('~/assets')) {
  // Remove the prefix and use as a public path
  imageUrl = src.replace('~/assets', '');
  console.log(`Converting ${src} to ${imageUrl}`);
} 
// Add more cases as needed
---

<img 
  src={imageUrl} 
  alt={alt} 
  class={className}
  onerror="this.onerror=null; this.src='/placeholder-image.jpg';"
/>