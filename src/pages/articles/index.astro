---
import Layout from '~/layouts/PageLayout.astro';
import Hero from '~/components/widgets/Hero.astro';
import PostList from '~/components/blog/List.astro'; // Componente para listar posts
import { getCollection } from 'astro:content';

const metadata = {
  title: 'Articles',
  description: 'A collection of frameworks, best practices, and thoughts on the world of data.',
};

// Obtenemos todos los posts, filtramos borradores y los ordenamos por fecha
const posts = (await getCollection('post'))
  .filter((post) => post.data.draft !== true)
  .sort((a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf());
---

<Layout metadata={metadata}>
  <Hero
    tagline="Thought Leadership"
    title="Articles & Analysis"
    subtitle={metadata.description}
  />
  <PostList posts={posts} /> {/* Aquí se muestran todos tus artículos */}
</Layout>